<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>How to resize console to the window | SadConsole v10 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="How to resize console to the window | SadConsole v10 ">
      
      <meta name="description" content="Learn how to resize a console in response to the SadConsole window size changing.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/SadConsoleLogo.gif" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="resize-your-main-console-with-the-window">Resize your main console with the window</h1>

<p>A common scenario with SadConsole is resizing the window and then resizing the console with it. When you create a new SadConsole game, you specify the width and height in cells. The game window is sized in pixels to hold that many cells. However, once you resize the window, SadConsole generally centers or stretches the rendering surface to fill the window. It doesn't resize the internal rendering surface which would allow you to show a bigger console on the screen.</p>
<p>This article demonstrates how to resize the internal rendering surface (which is a simple configuration change) and how to resize a console to the size of the window.</p>
<h2 id="example">Example</h2>
<p>If you create a game with a base console size of 80x25, you'll get a window that looks like the following image:</p>
<p><img src="images/how-to-resize-a-console-with-the-window/starting-console.png" alt="Picture of sadconsole game window with numbers for each column"></p>
<div class="NOTE">
<h5>Note</h5>
<p>The code to generate the numbers and display the console size is provided at the end of the article.</p>
</div>
<p>When you resize the window, SadConsole fills the extra space with black (whatever the <a class="xref" href="../api/SadConsole.Settings.html#SadConsole_Settings_ClearColor">ClearColor</a>) property is set to&gt; and centers the console.</p>
<p><img src="images/how-to-resize-a-console-with-the-window/normal-resize.png" alt="Picture of sadconsole game window with numbers for each column and more columns than before"></p>
<p>To resize a console (or <code>ScreenSurface</code>) to the size of the window, you must do the following:</p>
<ul>
<li>Configure SadConsole's resize mode to <code>None</code>, which allows hte internal rendering surface to fill the window.</li>
<li>Handle the <code>WindowResized</code> event from the game host to detect the new window size.</li>
<li>Use a surface object that implements <code>ICellSurfaceResize</code>, which the default objects in SadConsole use.</li>
<li>Resize the surface object.</li>
</ul>
<h2 id="detect-when-the-window-is-resized">Detect when the window is resized</h2>
<p>You need to add an event handler to the <a class="xref" href="../api/SadConsole.Host.Game.html#SadConsole_Host_Game_WindowResized">SadConsole.Host.Game.WindowResized</a> event provided by the game host (MonoGame in this case) to detect when the window is resized.</p>
<p>Use the <a class="xref" href="../api/SadConsole.Configuration.Extensions.html#SadConsole_Configuration_Extensions_OnStart_SadConsole_Configuration_Builder_System_EventHandler_SadConsole_GameHost__">OnStart(Builder, EventHandler&lt;GameHost&gt;)</a> configuration object to add that event handler. This is also a good place to set the <a class="xref" href="../api/SadConsole.Settings.html#SadConsole_Settings_ResizeMode">ResizeMode</a> property to <a class="xref" href="../api/SadConsole.Settings.WindowResizeOptions.html#SadConsole_Settings_WindowResizeOptions_None">None</a>.</p>
<p>The <code>WindowResized</code> event is called <strong>after</strong> the window finishes resizing.</p>
<pre><code class="lang-csharp">void Startup(object? sender, GameHost host)
{
    PrintHeader();
    Settings.ResizeMode = Settings.WindowResizeOptions.None;
    Game.Instance.MonoGameInstance.WindowResized += Game_WindowResized;
}

void Game_WindowResized(object? sender, EventArgs e)
{
    var rootConsole = (IScreenSurface)Game.Instance.Screen!;
    var resizableSurface = (ICellSurfaceResize)rootConsole.Surface;
    resizableSurface.Resize(Game.Instance.MonoGameInstance.WindowWidth / rootConsole.FontSize.X,
                            Game.Instance.MonoGameInstance.WindowHeight / rootConsole.FontSize.Y, false);
    PrintHeader();
}
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The <code>PrintHeader</code> method is documented at the end of this article. It provides a way to visualize the size of the surface.</p>
</div>
<p>Now when you resize the window, the root console resizes to fit.</p>
<p><img src="images/how-to-resize-a-console-with-the-window/dynamic-resize.png" alt="picture of sadconsole with a dynamic resized console"></p>
<h2 id="handling-viewport-consoles">Handling viewport consoles</h2>
<p>If your console is larger than the screen, you resize the view port instead of the console itself. Since changing the size of the view port doesn't resize the console itself, the viewport will always cut off at the bounds of the console. The viewport will never get larger than the console, but it can be resized as small as needed.</p>
<pre><code class="lang-csharp">void Game_WindowResized(object? sender, EventArgs e)
{
    var rootConsole = (IScreenSurface)Game.Instance.Screen!;
    var resizableSurface = (ICellSurfaceResize)rootConsole.Surface;
    
    rootConsole.Surface.View = rootConsole.Surface.View.WithSize(
                                        Game.Instance.MonoGameInstance.WindowWidth / rootConsole.FontSize.X,
                                        Game.Instance.MonoGameInstance.WindowHeight / rootConsole.FontSize.Y);
    PrintHeader();
}
</code></pre>
<h2 id="printheader">PrintHeader</h2>
<p>The following code prints a header along the top and size of a surface, which counts the cells.</p>
<pre><code class="lang-csharp">private static void PrintHeader()
{
    int counter = 0;
    var startingColor = Color.Black.GetRandomColor(SadConsole.Global.Random);
    var color = startingColor;
    for (int x = 0; x &lt; RootDynamicConsole.Width; x++)
    {
        RootDynamicConsole[x].Glyph = counter.ToString()[0];
        RootDynamicConsole[x].Foreground = color;
                
        counter++;

        if (counter == 10)
        {
            counter = 0;
            color = color.GetRandomColor(SadConsole.Global.Random);
        }
    }

    counter = 0;
    color = startingColor;
    for (int y = 0; y &lt; RootDynamicConsole.Height; y++)
    {
        RootDynamicConsole[0, y].Glyph = counter.ToString()[0];
        RootDynamicConsole[0, y].Foreground = color;

        counter++;

        if (counter == 10)
        {
            counter = 0;
            color = color.GetRandomColor(SadConsole.Global.Random);
        }
    }

    // Display console size
    RootDynamicConsole.Print(4, 2, &quot;Console Size&quot;);
    RootDynamicConsole.Print(4, 3, &quot;                         &quot;);
    RootDynamicConsole.Print(4, 3, $&quot;{RootDynamicConsole.Width} {RootDynamicConsole.Height}&quot;);
}
</code></pre>
<h2 id="full-code-example">Full code example</h2>
<pre><code class="lang-csharp">using SadConsole.Configuration;

Settings.WindowTitle = &quot;SadConsole Examples&quot;;

Builder startup = new Builder()
    .SetScreenSize(80, 25)
    .UseDefaultConsole()
    .OnStart(Startup)
    ;

Game.Create(startup);
Game.Instance.Run();
Game.Instance.Dispose();


void Startup(object? sender, GameHost host)
{
    PrintHeader();
    Settings.ResizeMode = Settings.WindowResizeOptions.None;
    Game.Instance.MonoGameInstance.WindowResized += Game_WindowResized;
}

void Game_WindowResized(object? sender, EventArgs e)
{
    var rootConsole = (IScreenSurface)Game.Instance.Screen!;
    var resizableSurface = (ICellSurfaceResize)rootConsole.Surface;
    resizableSurface.Resize(Game.Instance.MonoGameInstance.WindowWidth / rootConsole.FontSize.X, Game.Instance.MonoGameInstance.WindowHeight / rootConsole.FontSize.Y, false);
    PrintHeader();
}

void PrintHeader()
{
    int counter = 0;
    var startingColor = Color.Black.GetRandomColor(Game.Instance.Random);
    var color = startingColor;

    var rootConsole = (IScreenSurface)Game.Instance.Screen!;

    for (int x = 0; x &lt; rootConsole.Surface.Width; x++)
    {
        rootConsole.Surface[x].Glyph = counter.ToString()[0];
        rootConsole.Surface[x].Foreground = color;

        counter++;

        if (counter == 10)
        {
            counter = 0;
            color = color.GetRandomColor(Game.Instance.Random);
        }
    }

    counter = 0;
    color = startingColor;
    for (int y = 0; y &lt; rootConsole.Surface.Height; y++)
    {
        rootConsole.Surface[0, y].Glyph = counter.ToString()[0];
        rootConsole.Surface[0, y].Foreground = color;

        counter++;

        if (counter == 10)
        {
            counter = 0;
            color = color.GetRandomColor(Game.Instance.Random);
        }
    }

    // Display console size
    rootConsole.Surface.Print(4, 2, &quot;Console Size&quot;);
    rootConsole.Surface.Print(4, 3, &quot;                         &quot;);
    rootConsole.Surface.Print(4, 3, $&quot;{rootConsole.Surface.Width} {rootConsole.Surface.Height}&quot;);
}
</code></pre>

</article>

        <div class="contribution d-print-none">
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
