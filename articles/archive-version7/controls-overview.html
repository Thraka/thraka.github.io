<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>title: Overview - Controls
layout: docpage
comments: false
searcharchive: true </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="title: Overview - Controls
layout: docpage
comments: false
searcharchive: true ">
    <meta name="generator" content="docfx 2.40.11.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/dracula.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" src="../../images/SadConsoleLogo.gif" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="title-overview---controlslayout-docpagecomments-falsesearcharchive-true">title: Overview - Controls
layout: docpage
comments: false
searcharchive: true</h2>

<blockquote>
<p><strong>NOTE</strong><br>
This article was written for version 7 of SadConsole.</p>
</blockquote>
<p>SadConsole provides a text-based UI system with the <code>SadConsole.Controls</code> namespace. You can use it to make it easy for your user to interact with your game. Or you can use it to display popup windows and dialogs. This basic functionality is demonstrated in the <a href="https://github.com/Thraka/SadConsole/blob/master/src/DemoProject/SharedCode/CustomConsoles/ControlsTest.cs">DemoProject/CustomConsoles/ControlsTest</a> code file.</p>
<h2 id="controlconsole">ControlConsole</h2>
<p>A special console is provided that manages rendering and managing controls. Each control must used with the <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/ControlsConsole.cs">SadConsole.ControlsConsole</a> type.</p>
<p>The <code>ControlsConsole</code> not only hosts the controls, but it also manages input, focus, and state of the controls. For intents and purposes, the <code>ControlsConsole</code> acts exactly like a normal <code>Console</code>. When the controls are drawn, they are drawn on top of the controls console.</p>
<h2 id="create-and-draw-a-control">Create and draw a control</h2>
<p>First, create a new <code>SadConsole.ControlsConsole</code> object and get it drawing to the screen.</p>
<blockquote>
<p><strong>NOTE</strong><br>
The following namespaces should be used:</p>
<pre><code class="lang-csharp">using SadConsole;
using Microsoft.Xna.Framework;
</code></pre>
</blockquote>
<pre><code class="lang-csharp">var console = new SadConsole.ControlsConsole(80, 25);

SadConsole.Global.CurrentScreen.Children.Add(console);
</code></pre>
<p>Now the console has been created and added to the screen. Of course, you can't see it because the background is black. Let's add a simple <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Controls/Button.cs">button</a> control that you can click on.</p>
<pre><code class="lang-csharp">var button1 = new SadConsole.Controls.Button(12, 1);
button1.Position = new Point(2, 2);
button1.Text = &quot;Click Me&quot;;

console.Add(button1);
</code></pre>
<p>The <code>console.Add</code> code adds a control to the <code>Controls</code> collection of a <code>ControlsConsole</code>, which is a list of all of the controls on the console. You can remove a control with the <code>Remove</code> method, or use <code>RemoveAll</code> to clear all controls from the console.</p>
<blockquote>
<p><strong>NOTE</strong><br>
A control can only be associated with one parent <code>ControlsConsole</code>. If you add the control to a second another <code>ControlsConsole</code>, it will be removed from the previous console.</p>
</blockquote>
<h2 id="working-with-events">Working with events</h2>
<p>Generally, each control has an event of some sort that lets you know when the user has interacted with the control, such as when a button is clicked or when a checkbox is unchecked.</p>
<p>To demonstrate this, let's create some code that sets the background of the console to a random color when the user clicks on a button.</p>
<pre><code class="lang-csharp">var colors = new Color[] { ColorAnsi.Black, ColorAnsi.Red, ColorAnsi.Green, ColorAnsi.Yellow, ColorAnsi.Blue, ColorAnsi.Magenta, ColorAnsi.Cyan, ColorAnsi.White };
            
button1.Click += (btn, args) =&gt; 
{
    console.DefaultBackground = colors[SadConsole.Global.Random.Next(0, colors.Length)];
    console.Clear();
};
</code></pre>
<h2 id="using-multiple-controls">Using multiple controls</h2>
<p>Working with multiple controls is just as easy as working with a single control. Create, position, and add the control. You can then hook up events to work between controls.</p>
<p>Delete the code previously written and start fresh. In this example we'll create a label, a button, and a text box. The <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Controls/TextBox.cs">text box</a> will be where you enter a name, and when you click on the button, a message is printed at the top of the console.</p>
<p>You'll notice the <code>label1</code> control is not of a type named something like <code>Label</code> but instead is a <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Controls/DrawingSurface.cs">SadConsole.Controls.DrawingSurface</a>. The <code>DrawingSurface</code> is just a blank canvas for you to draw on and then position as if it was any other control.</p>
<pre><code class="lang-csharp">var console = new SadConsole.ControlsConsole(80, 25);

SadConsole.Global.CurrentScreen.Children.Add(console);

var label1 = new SadConsole.Controls.DrawingSurface(20, 1);
label1.Position = new Point(10, 7);
label1.Surface.Print(0, 0, &quot;What is your name?&quot;);

var input = new SadConsole.Controls.TextBox(14);
input.Position = new Point(10, 8);

var button1 = new SadConsole.Controls.Button(9, 1);
button1.Position = new Point(10, 10);
button1.Text = &quot;Print&quot;;

console.Add(input);
console.Add(label1);
console.Add(button1);

button1.Click += (btn, args) =&gt;
{
    console.Print(1, 1, $&quot;Hello {input.Text}, how are you today?&quot;);
};

SadConsole.Global.FocusedConsoles.Set(console);
</code></pre>
<p>The TextBox will not process our keyboard if the console is not focused. The code <code>SadConsole.Global.FocusedConsoles.Set(console);</code> sets the console as focused. Keyboard input is only ever processed on the <em>focused</em> console.</p>
<h2 id="dialogs">Dialogs</h2>
<p>The controls library provides a <em>windowing</em> system through the <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Window.cs">SadConsole.Window</a> type. This class is a <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/ControlsConsole.cs">ControlsConsole</a> with a bunch of helper code to manage the window, like <code>Show</code> and <code>Hide</code>. It still functions the same as the ControlsConsole. When you call the <code>window.Show</code> method, the window is automatically added to the <code>SadConsole.Global.CurrentScreen.Children</code> collection in a position that makes it render on top of everything else, it also gives the window focus.</p>
<p>Replace the previous code with this new code that will use a window instead of a console.</p>
<pre><code class="lang-csharp">var window = new SadConsole.Window(30, 7);

var label1 = new SadConsole.Controls.DrawingSurface(20, 1);
label1.Position = new Point(2, 2);
label1.Surface.Print(0, 0, &quot;What is your name?&quot;);

var input = new SadConsole.Controls.TextBox(14);
input.Position = new Point(2, 3);

var button1 = new SadConsole.Controls.Button(9, 1);
button1.Position = new Point(2, 5);
button1.Text = &quot;Close&quot;;

window.Add(input);
window.Add(label1);
window.Add(button1);

button1.Click += (btn, args) =&gt;
{
    window.Hide();
};
</code></pre>
<p>The window will be hidden when the <code>button1</code> control is clicked. However, if you run the program the window is not visible. It needs to be made visible. Additionally, we can add a title to the window. By clicking and dragging the title of the window, it can be moved around. The code below will complete the window.</p>
<pre><code class="lang-csharp">window.Title = &quot;Question&quot;;
window.Center();
window.Show(true);
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
