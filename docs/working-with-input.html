<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Working with input | Thraka&#39;s Home</title>
  <meta name="author" content="Thraka">
  
  <meta name="description" content="The SadConsole.Engine static class processes input for the entire SadConsole framework. At this point, it only includes the Keyboard and Mouse inputs ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Working with input"/>
  <meta property="og:site_name" content="Thraka&#39;s Home"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-76753055-1', 'auto');
  ga('send', 'pageview');
</script>




</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Thraka&#39;s Home</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
            
            <a href="/blog" title="All the articles">
            
			  <i class=""></i>Blog
			</a>
		  </li>
		  
		  <li>
            
            <a href="/docs" title="Documentation for SadConsole">
            
			  <i class=""></i>Documentation
			</a>
		  </li>
		  
		  <li>
            
			<a href="https://github.com/thraka/sadconsole" title="SadConsole GitHub">
            
			  <i class="fa fa-github"></i>Github
			</a>
		  </li>
		  
		  <li>
            
			<a href="https://www.reddit.com/r/sadconsole/" title="SadConsole SubReddit">
            
			  <i class="fa fa-reddit"></i>Reddit
			</a>
		  </li>
		  
		  <li>
            
            <a href="/atom.xml" title="Subscribe">
            
			  <i class="fa fa-rss"></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 
	
		<div class="page-header">
			<h1> Working with input</h1>
		</div>
	



<div class="row page">
	<!-- cols -->
	
	<div class="col-md-12">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p>The <em>SadConsole.Engine</em> static class processes input for the entire SadConsole framework. At this point, it only includes the <strong>Keyboard</strong> and <strong>Mouse</strong> inputs as <strong>Controller</strong> support has not been implemented yet. <strong>Controller</strong> support is provided by MonoGame. Keyboard and Mouse states have been updated by the time the <code>Global.Update</code> method has been called.</p>
<p>When the mouse and keyboard information is sent to a console, the <em>SadConsole.Console.ProcessMouse(SadConsole.Input.MouseConsoleState)</em> and the <em>SadConsole.Console.ProcessKeyboard(SadConsole.Input.Keyboard)</em> methods will be called. Each console can indicate if it wants to process the mouse and keyboard input. These two properties, <code>SadConsole.Console.UseKeyboard</code> and <code>SadConsole.Console.UseMouse</code>, default to <code>True</code>. Regardless of the <strong>Console</strong> settings though, if the Engine’s mouse or keyboard processing is turned off, the console will never have these methods called.</p>
<h4 id="engine-input"><a class="markdownIt-Anchor" href="#engine-input"></a> Engine input</h4>
<p>Input processing by the engine can be toggled on or off with the <code>Settings.Input.DoKeyboard</code> and <code>Settings.Input.DoMouse</code> properties. Both input types are on by default.</p>
<p>The <code>Global.FocusedConsoles</code> property specifies which consoles should receive keyboard events. It is always the first in the stack. This console is considered the focused console. No other console will ever receive keyboard input, however, other consoles may receive mouse input. When this property changes, the <code>Console.Focused()</code> and <code>Console.FocusLost()</code> methods are called on the appropriate consoles.</p>
<p>When the <code>Engine.Update</code> method is called, the input system flows like this:</p>
<ol>
<li>
<p>If <code>Settings.Input.DoKeyboard</code> is true</p>
<ol>
<li>Update <code>Global.KeyboardState</code> with the latest state.</li>
<li>Look for a <code>Global.FocusedConsoles.Console</code> to process the keyboard.</li>
</ol>
</li>
<li>
<p>If <code>Settings.Input.DoMouse</code> is true</p>
<ol>
<li>Update <code>Global.MouseState</code> with the latest state.</li>
<li>Check if <code>Global.FocusedConsoles.Console</code> has <code>ExclusiveFocus</code> set.</li>
<li>If <code>ExclusiveFocus</code> is not set, search through <code>Global.CurrentScreen</code> for all <code>IConsole</code> types and <code>ProcessMouse</code> until one returns true.</li>
</ol>
</li>
<li>
<p>Cycle through the <code>Global.CurrentScreen</code> and call <code>Update</code> on everything.</p>
</li>
<li>
<p>Invoke the <code>SadConsole.Game.OnUpdate</code> callback.</p>
</li>
</ol>
<h5 id="mouse-details"><a class="markdownIt-Anchor" href="#mouse-details"></a> Mouse details</h5>
<p>The left and right button states are tracked, as well as any information related to the console under the mouse. The <code>Global.MouseState</code> property is an instance of the <code>SadConsole.Input.Mouse</code> type and is always available for you to peek at.</p>
<table>
<thead>
<tr>
<th>Mouse Properties</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LeftButtonDown</td>
<td>The left button is currently down.</td>
</tr>
<tr>
<td>LeftClicked</td>
<td>The left button was down at the last check but is currently up.</td>
</tr>
<tr>
<td>LeftDoubleClicked</td>
<td>The left button was just double clicked in under a second.</td>
</tr>
<tr>
<td>RightButtonDown</td>
<td>The right button is currently down.</td>
</tr>
<tr>
<td>RightClicked</td>
<td>The right button was down at the last check but is currently up.</td>
</tr>
<tr>
<td>RightDoubleClicked</td>
<td>The right button was just double clicked in under a second.</td>
</tr>
</tbody>
</table>
<p>Whenever the <code>ProcessMouse</code> method is called on an <code>IConsole</code>, the mouse state is wrapped in a <code>SadConsole.Input.MouseConsoleState</code> type which represents how the console sees the mouse.</p>
<h5 id="keyboard-details"><a class="markdownIt-Anchor" href="#keyboard-details"></a> Keyboard details</h5>
<p>The keyboard works similar to the mouse. The <code>Global.KeyboardState</code> property is an instance of the <code>SadConsole.Input.Keyboard</code> type and is always available for you to peek at. This instance tracks the state of the keyboard throughout the application’s lifetime.</p>
<table>
<thead>
<tr>
<th>Keyboard Properties</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>KeysDown</td>
<td>A collection of all keys that are currently down.</td>
</tr>
<tr>
<td>KeysPressed</td>
<td>A collection of all keys that were down on the last check, but are now up, indicating a key press.</td>
</tr>
<tr>
<td>KeysReleased</td>
<td>A collection of all keys are currently up. This may include keys in the KeysPressed collection.</td>
</tr>
</tbody>
</table>
<h4 id="focusing-consoles-with-the-mouse"><a class="markdownIt-Anchor" href="#focusing-consoles-with-the-mouse"></a> Focusing consoles with the mouse</h4>
<p>By default, a console can become the active console by clicking it with the mouse. When the mouse clicks on a console, and the <code>Console.FocusOnMouseClick</code> property is set to <code>True</code>, the <code>Global.FocusedConsoles</code> property will be set to the console.</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	

	</div> <!-- col-md-9/col-md-12 -->
		
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 Thraka
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
