<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Overview - Controls | Thraka</title>
  <meta name="author" content="Thraka">
  
  <meta name="description" content="SadConsole provides a GUI system with the SadConsole.Controls namespace. You can display control surfaces, use popup windows and dialogs, even create ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Overview - Controls"/>
  <meta property="og:site_name" content="Thraka"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-76753055-1', 'auto');
  ga('send', 'pageview');
</script>




</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Thraka</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
            
            <a href="/blog" title="All the articles">
            
			  <i class=""></i>Blog
			</a>
		  </li>
		  
		  <li>
            
            <a href="/docs" title="Documentation for SadConsole">
            
			  <i class=""></i>Documentation
			</a>
		  </li>
		  
		  <li>
            
			<a href="https://github.com/thraka/sadconsole" title="SadConsole GitHub">
            
			  <i class="fa fa-github"></i>Github
			</a>
		  </li>
		  
		  <li>
            
			<a href="https://www.reddit.com/r/sadconsole/" title="SadConsole SubReddit">
            
			  <i class="fa fa-reddit"></i>Reddit
			</a>
		  </li>
		  
		  <li>
            
            <a href="/atom.xml" title="Subscribe">
            
			  <i class="fa fa-rss"></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 
	
		<div class="page-header">
			<h1> Overview - Controls</h1>
		</div>
	



<div class="row page">
	<!-- cols -->
	
	<div class="col-md-12">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p>SadConsole provides a GUI system with the <code>SadConsole.Controls</code> namespace. You can display control surfaces, use popup windows and dialogs, even create new controls. This basic functionality is demonstrated in the <a href="https://github.com/Thraka/SadConsole/blob/master/src/DemoProject/SharedCode/CustomConsoles/ControlsTest.cs" target="_blank" rel="noopener">DemoProject/CustomConsoles/ControlsTest</a> code file.</p>
<h2 id="ControlConsole"><a href="#ControlConsole" class="headerlink" title="ControlConsole"></a>ControlConsole</h2><p>A special console is provided that manages rendering and managing controls. Each control must used with the <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/ConsoleTypes/ControlsConsole.cs" target="_blank" rel="noopener">SadConsole.ControlsConsole</a> type.</p>
<p>The ControlsConsole not only hosts the controls, but it also manages input, focus, and state of the controls. Additionally it makes sure that the renderer of the console knows about the controls. This however requires that a special renderer be used, <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Renderers/ControlsConsoleRenderer.cs" target="_blank" rel="noopener">SadConsole.Renderers.ControlsConsoleRenderer</a>. The reason we do not use the normal <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Renderers/SurfaceRenderer.cs" target="_blank" rel="noopener">ConsoleRenderer</a> is that each control is its own <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Surfaces/BasicSurface.cs" target="_blank" rel="noopener">Surface</a>. The controls are not rendered to the backing Surface but instead are rendered after that Surface has already been drawn.</p>
<blockquote>
<p><strong>WARNING</strong><br>If you do not use a renderer that is or derives from <code>ControlsConsoleRenderer</code>, an exception will be thrown.</p>
</blockquote>
<h2 id="Create-and-draw-a-control"><a href="#Create-and-draw-a-control" class="headerlink" title="Create and draw a control"></a>Create and draw a control</h2><p>The first thing to do to get controls drawn on the screen is to create the console. And like all consoles, you can do this by creating your own custom console that encapsulates all the controls and logic, or use the basic provided console. The code here will get you started using the built in ControlsConsole type.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> console = <span class="keyword">new</span> SadConsole.ControlsConsole(<span class="number">80</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">SadConsole.Global.CurrentScreen.Children.Add(console);</span><br></pre></td></tr></table></figure>
<p>Now the console has been created and added to the engine. Of course, you can’t see it because the background is black. Let’s add a simple <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Controls/Button.cs" target="_blank" rel="noopener">button</a> control that you can click on.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> button1 = <span class="keyword">new</span> SadConsole.Controls.Button(<span class="number">12</span>);</span><br><span class="line">button1.Position = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">button1.Text = <span class="string">"Click me"</span>;</span><br><span class="line"></span><br><span class="line">console.Add(button1);</span><br></pre></td></tr></table></figure>
<p>The <code>Add</code> method adds a control to the <code>Controls</code> collection of a ControlsConsole. You can remove a control with the <code>Remove</code> method, or use <code>RemoveAll</code> to clear all controls from the console.</p>
<blockquote>
<p><strong>NOTE</strong><br>A control can only be associated with one parent ControlsConsole. If you add the control to another ControlsConsole, it will be removed from the previous console.</p>
</blockquote>
<h2 id="Working-with-events"><a href="#Working-with-events" class="headerlink" title="Working with events"></a>Working with events</h2><p>Generally each control has an event of some sort that lets you respond to when something happens between the user and the control, such as when a button is clicked or when a checkbox is unchecked.</p>
<p>To show this, we’ll create some code that takes an array of colors, and when the button is clicked, sets the background of the console to a random color.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> Color[] &#123; ColorAnsi.Black, ColorAnsi.Red, ColorAnsi.Green, ColorAnsi.Yellow, ColorAnsi.Blue, ColorAnsi.Magenta, ColorAnsi.Cyan, ColorAnsi.White &#125;;</span><br><span class="line">            </span><br><span class="line">button1.Click += (btn, args) =&gt; </span><br><span class="line">&#123;</span><br><span class="line">    console.TextSurface.DefaultBackground = colors[SadConsole.Global.Random.Next(<span class="number">0</span>, colors.Length)];</span><br><span class="line">    console.Clear();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Using-multiple-controls"><a href="#Using-multiple-controls" class="headerlink" title="Using multiple controls"></a>Using multiple controls</h2><p>Working with multiple controls is just as easy as working with a single control. Create, position, and add the control. Simple as that. You can then hook up events to work between controls. </p>
<p>Delete the previous code that when you clicked a button a random background color was set. Also, delete the <code>button1</code> code and we’ll recreate it with some new code. In this example we’ll create a label, a button, and an input box. The <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Controls/InputBox.cs" target="_blank" rel="noopener">input box</a> will be where you enter a name, and when you click on the button, a message is printed at the top of the console.</p>
<p>You’ll notice the <code>label1</code> control is not of a type named something like <code>Label</code> but instead is a <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Controls/DrawingSurface.cs" target="_blank" rel="noopener">SadConsole.Controls.DrawingSurface</a>. The DrawingSurface is just a BasicSurface that is a blank canvas for you to draw on and then position as if it was any other control.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> label1 = <span class="keyword">new</span> SadConsole.Controls.DrawingSurface(<span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line">label1.Position = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">7</span>);</span><br><span class="line">label1.Print(<span class="number">0</span>, <span class="number">0</span>, <span class="string">"What is your name?"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> input = <span class="keyword">new</span> SadConsole.Controls.InputBox(<span class="number">14</span>);</span><br><span class="line">input.Position = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> button1 = <span class="keyword">new</span> SadConsole.Controls.Button(<span class="number">9</span>);</span><br><span class="line">button1.Position = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line">button1.Text = <span class="string">"Print"</span>;</span><br><span class="line"></span><br><span class="line">console.Add(input);</span><br><span class="line">console.Add(label1);</span><br><span class="line">console.Add(button1);</span><br><span class="line"></span><br><span class="line">button1.Click += (btn, args) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    console.Print(<span class="number">1</span>, <span class="number">1</span>, <span class="string">$"Hello <span class="subst">&#123;input.Text&#125;</span>, how are you today?"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">SadConsole.Global.FocusedConsoles.Set(console);</span><br></pre></td></tr></table></figure>
<p>The InputBox will not process our keyboard if the console is not focused. The code <code>SadConsole.Global.FocusedConsoles.Set(console);</code> sets the console as focused. Keyboard input is only ever processed on the focused console.</p>
<h2 id="Dialogs"><a href="#Dialogs" class="headerlink" title="Dialogs"></a>Dialogs</h2><p>The controls library provides a <em>windowing</em> system through the <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/Consoles/Window.cs" target="_blank" rel="noopener">SadConsole.Window</a> type. This class is a <a href="https://github.com/Thraka/SadConsole/blob/master/src/SadConsole.Shared/ConsoleTypes/ControlsConsole.cs" target="_blank" rel="noopener">ControlsConsole</a> with a bunch of helper code to manage the window, like <code>Show</code> and <code>Hide</code>. It still functions the same as the ControlsConsole. You do not need to add a window to the <code>SadConsole.Global.CurrentScreen.Children</code> like you do any other console. When you call the <code>window.Show</code> method, the window is automatically added to the <code>CurrentScreen.Children</code> collection in a position that makes it render on top of everything else.</p>
<p>Replace the previous code with this new code that will use a window instead of a console.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> window = <span class="keyword">new</span> SadConsole.Window(<span class="number">30</span>, <span class="number">7</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> label1 = <span class="keyword">new</span> SadConsole.Controls.DrawingSurface(<span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line">label1.Position = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">label1.Print(<span class="number">0</span>, <span class="number">0</span>, <span class="string">"What is your name?"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> input = <span class="keyword">new</span> SadConsole.Controls.InputBox(<span class="number">14</span>);</span><br><span class="line">input.Position = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> button1 = <span class="keyword">new</span> SadConsole.Controls.Button(<span class="number">9</span>);</span><br><span class="line">button1.Position = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">5</span>);</span><br><span class="line">button1.Text = <span class="string">"Close"</span>;</span><br><span class="line"></span><br><span class="line">window.Add(input);</span><br><span class="line">window.Add(label1);</span><br><span class="line">window.Add(button1);</span><br><span class="line"></span><br><span class="line">button1.Click += (btn, args) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    window.Hide();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>As you can see in the <code>button1.Click</code> event, the window will be hidden when the button is clicked. However, if you run the program the window is not visible, we need to show it. Additionally, we can add a title to the window, and also position the window. The code below will complete the window. You can also hold the mouse button down on the window title and move the window around.</p>
<pre><code class="csharp">window.Title = <span class="string">"Question"</span>;
window.Center();
window.Show(<span class="literal">true</span>);
</code></pre>
<p><a href="https://github.com/Thraka/SadConsole/tree/master/src/" target="_blank" rel="noopener">https://github.com/Thraka/SadConsole/tree/master/src/</a></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	

	</div> <!-- col-md-9/col-md-12 -->
		
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2018 Thraka
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
