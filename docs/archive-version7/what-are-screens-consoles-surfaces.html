<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">

  
  <title>What are Screens, Consoles, and Surfaces? | Thraka&#39;s Home</title>
   <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW"> 
  <meta name="author" content="Thraka">
  
  <meta name="description" content="NOTE
This article was written for version 7 of SadConsole.

The main type of object in SadConsole is the ScreenObject. As you can probably guess from ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="What are Screens, Consoles, and Surfaces?"/>
  <meta property="og:site_name" content="Thraka&#39;s Home"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-76753055-1', 'auto');
  ga('send', 'pageview');
</script>




</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Thraka&#39;s Home</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
            
            <a href="/blog" title="All the articles">
            
			  <i class=""></i>Blog
			</a>
		  </li>
		  
		  <li>
            
            <a href="/docs" title="Documentation for SadConsole">
            
			  <i class=""></i>Documentation
			</a>
		  </li>
		  
		  <li>
            
			<a href="https://github.com/thraka/sadconsole" title="SadConsole GitHub">
            
			  <i class="fa fa-github"></i>Github
			</a>
		  </li>
		  
		  <li>
            
			<a href="https://www.reddit.com/r/sadconsole/" title="SadConsole SubReddit">
            
			  <i class="fa fa-reddit"></i>Reddit
			</a>
		  </li>
		  
		  <li>
            
            <a href="/atom.xml" title="Subscribe">
            
			  <i class="fa fa-rss"></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 
	
		<div class="page-header">
			<h1> What are Screens, Consoles, and Surfaces?</h1>
		</div>
	



<div class="row page">
	<!-- cols -->
	
	<div class="col-md-12">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <blockquote>
<p><strong>NOTE</strong><br>
This article was written for version 7 of SadConsole.</p>
</blockquote>
<p>The main type of object in SadConsole is the <code>ScreenObject</code>. As you can probably guess from the name, it represents something that can be displayed on the screen. Alone, screen objects do not really do much of anything, they are empty shells that form the base of objects.</p>
<p>SadConsole has two main functions that are performed on screen objects as the game loop runs:</p>
<ol>
<li>Update SadConsole objects.</li>
<li>Draw SadConsole objects.</li>
</ol>
<p>Intermixed in that process are all sorts of other things, input management, texture caching for performance, screen position calculations, etc.</p>
<p>SadConsole uses the <code>ScreenObject</code> as the base class for all other objects, such as: consoles, drawing surfaces, and game entities. All of the following objects inherit from <code>ScreenObject</code> and can be positioned and parented to any other <code>ScreenObject</code> type.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Console related</strong></td>
<td></td>
</tr>
<tr>
<td>SadConsole.Console</td>
<td>Keyboard, mouse, virtual cursor support.</td>
</tr>
<tr>
<td>SadConsole.ControlsConsole</td>
<td>Same as Console. Adds text UI framework.</td>
</tr>
<tr>
<td>SadConsole.Window</td>
<td>Same as ControlsConsole. Adds floating/movable dialog system.</td>
</tr>
<tr>
<td>SadConsole.ConsoleContainer</td>
<td>A fake console that does nothing. It can receive keyboard and mouse events. Exists for you to extend and wrap objects that cannot take keyboard/mouse input.</td>
</tr>
<tr>
<td><strong>Surface related</strong></td>
<td></td>
</tr>
<tr>
<td>SadConsole.Surfaces.SurfaceBase</td>
<td>Abstract base class that defines an array of SadConsole.Cell objects. Provides methods to print and draw on the surface.</td>
</tr>
<tr>
<td>SadConsole.Surfaces.Basic</td>
<td>Basic implementation of SurfaceBase. Does nothing extra.</td>
</tr>
<tr>
<td>SadConsole.Surfaces.BasicNoDraw</td>
<td>Just like the Basic class but does not use a cached texture and will not draw itself on the screen, ever.</td>
</tr>
<tr>
<td>SadConsole.Surfaces.Animated</td>
<td>Animated surface that has multiple BasicNoDraw frames.</td>
</tr>
<tr>
<td>SadConsole.Surfaces.Layered</td>
<td>Multiple Basic surfaces that are drawn on top of each other to form a layered surface.</td>
</tr>
<tr>
<td><strong>Entity related</strong></td>
<td></td>
</tr>
<tr>
<td>SadConsole.Entities.Entity</td>
<td>Contains multiple animations. Has an additional position offset for syncing with viewports.</td>
</tr>
<tr>
<td>SadConsole.Entities.Zone</td>
<td>An invisible rectangle. Has a settings dictionary. Use with a game map to mark regions.</td>
</tr>
<tr>
<td>SadConsole.Entities.Hotspot</td>
<td>One or more invisible points. Has a settings dictionary. Use with a game map to mark specific spots.</td>
</tr>
<tr>
<td>SadConsole.Entities.EntityManager</td>
<td>Contains entities, zones, and hotspots. When parented to a SurfaceBase, manages offset syncing for objects.</td>
</tr>
</tbody>
</table>
<h2 id="screenobject-processing"><a class="markdownIt-Anchor" href="#screenobject-processing"></a> ScreenObject processing</h2>
<p>SadConsole uses the <code>SadConsole.Global.CurrentScreen</code> property to determine what objects are going to be processed. The current screen starts out as a <code>ScreenObject</code>, which has nothing to render. If you add something to its <code>Children</code> collection, those objects will be processed. They may or may not be drawn depending on the type of object.</p>
<p>In general, <code>ScreenObject</code> types handle the following:</p>
<ol>
<li>Position</li>
<li>Visibility toggle</li>
<li>Update and Drawing hooks</li>
<li>Parent-child relationship with other ScreenObjects</li>
</ol>
<p>When SadConsole starts, the current screen is initialized like so:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Global.CurrentScreen = <span class="keyword">new</span> ScreenObject();</span><br></pre></td></tr></table></figure>
<p>From that point, you can add what you want to the current screen to get it in the system. For example, this code would add a new console (a console is a type of <code>ScreenObject</code>) to the engine:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SadConsole.Global.CurrentScreen = <span class="keyword">new</span> ScreenObject();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> console1 = <span class="keyword">new</span> SadConsole.Console(<span class="number">10</span>, <span class="number">4</span>);</span><br><span class="line">console1.Fill(Color.DarkBlue, Color.LightGray, <span class="number">0</span>);</span><br><span class="line">console1.Print(<span class="number">1</span>, <span class="number">1</span>, <span class="string">"Hello!"</span>);</span><br><span class="line">console1.Position = <span class="keyword">new</span> Point(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">SadConsole.Global.CurrentScreen.Children.Add(console1);</span><br></pre></td></tr></table></figure>
<p><img src="images/screen-example-1.png" alt=""></p>
<p>Or this code would add two different consoles to the system, and position them at different points:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> console1 = <span class="keyword">new</span> SadConsole.Console(<span class="number">10</span>, <span class="number">4</span>);</span><br><span class="line">console1.Fill(Color.DarkBlue, Color.LightGray, <span class="number">0</span>);</span><br><span class="line">console1.Print(<span class="number">1</span>, <span class="number">1</span>, <span class="string">"Hello!"</span>);</span><br><span class="line">console1.Position = <span class="keyword">new</span> Point(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> console2 = <span class="keyword">new</span> SadConsole.Console(<span class="number">10</span>, <span class="number">4</span>);</span><br><span class="line">console2.Fill(Color.LightGray, Color.DarkBlue, <span class="number">0</span>);</span><br><span class="line">console2.Print(<span class="number">1</span>, <span class="number">1</span>, <span class="string">"Hello!"</span>);</span><br><span class="line">console2.Position = <span class="keyword">new</span> Point(<span class="number">20</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">SadConsole.Global.CurrentScreen.Children.Add(console1);</span><br><span class="line">SadConsole.Global.CurrentScreen.Children.Add(console2);</span><br></pre></td></tr></table></figure>
<p><img src="images/screen-example-2.png" alt=""></p>
<p>At this point, the object hierarchy in current screen looks like the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Global.CurrentScreen</span><br><span class="line">|</span><br><span class="line">\-- console1</span><br><span class="line">\-- console2</span><br></pre></td></tr></table></figure>
<p>If we were to parent <code>console2</code> to <code>console1</code>, it would look like the following:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console1.Children.Add(console2);</span><br><span class="line">Global.CurrentScreen.Children.Add(console1);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Global.CurrentScreen</span><br><span class="line">|</span><br><span class="line">\-- console1</span><br><span class="line">    |</span><br><span class="line">    \-- console2</span><br></pre></td></tr></table></figure>
<p><img src="images/screen-example-3.png" alt=""></p>
<p>If you compare this screenshot with the previous, you’ll notice that <code>console2</code> is positioned in a slightly different place. That is because the position of where something is drawn is based on its parent. Here are the position settings with both consoles added directly to the current screen:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Global.CurrentScreen [Pos: (0,0) Drawn: (0,0)]</span><br><span class="line">|</span><br><span class="line">\-- console1 [Pos: (3,3) Drawn: (3,3)]</span><br><span class="line">\-- console2 [Pos: (20,10) Drawn: (20,10)]</span><br></pre></td></tr></table></figure>
<p>When the parent of <code>console2</code> was changed from the <code>CurrentScreen</code> to <code>console1</code>, its drawing position was changed:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Global.CurrentScreen [Pos: (0,0) Drawn: (0,0)]</span><br><span class="line">|</span><br><span class="line">\-- console1 [Pos: (3,3) Drawn: (3,3)]</span><br><span class="line">    |</span><br><span class="line">    \-- console2 [Pos: (20,10) Drawn: (23,13)]</span><br></pre></td></tr></table></figure>
<p>What happened is that <code>console2</code> inherted the drawing position of its parent, <code>console1</code> <strong>(3,3)</strong>, and was offset by that amount. So while the position of <code>console2</code> was still set to <strong>(20,10)</strong> the final drawing position was calculated by <code>object_Position (20,10) + parent_Render_Position (3,3) = object_Render_Position (23,13)</code>.</p>
<p>As SadConsole processes an object, if it finds that <code>IsVisible</code> value is set to false, it immediately stops processing that object (for drawing) and does not inspect the <code>Children</code> of that object. So, if you were to hide <code>console1</code> with <code>console1.IsVisible = false</code> then <code>console2</code> would not be drawn.</p>
<h2 id="surfaces-and-consoles"><a class="markdownIt-Anchor" href="#surfaces-and-consoles"></a> Surfaces and Consoles</h2>
<p>The <code>SadConsole.Surfaces.SurfaceBase</code> is made up of <code>SadConsole.Cell</code> objects. A <code>Cell</code> is a glyph with a foreground and background color. The surface provides methods for writing text on a surface. Other methods such as shifting the entire surface in a direction, setting the background color of a single cell, or drawing a box shape, are provided. The base class for a surface is <code>ScreenObject</code>, so it can be positioned on the screen just like a <code>Console</code> can.</p>
<p>The <code>SadConsole.Surfaces.SurfaceBase</code> type is an abstract base class used by other objects. The ``SadConsole.Surfaces.Basic` surface is an implementation of that base class with no extra capabilities.</p>
<p>A <code>SadConsole.Console</code> type is actually a <code>SadConsole.Surfaces.SurfaceBase</code> with a bunch of extra handlers attached to it so you can use it like a terminal. It is not exactly meant to emulate a complete terminal, but it has some similar capabilities. Since the console is a surface, it has all of the same functions a surface does, such as printing text or manipulating individual cells. The console also provides keyboard and mouse input processing. It provides a <code>Cursor</code> object that emulates a terminal cursor. You can position the cursor within the console and use it for keyboard input or programmatically print with it.</p>
<p>Since both the console and surface are <code>ScreenObject</code> types, a surface can be parented to the <code>CurrentScreen</code>, to a console, or to any other <code>ScreenObject</code>. Our code from above that created two consoles can easily be replaced with a <code>Basic</code> surface:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> surface1 = <span class="keyword">new</span> SadConsole.Surfaces.Basic(<span class="number">10</span>, <span class="number">4</span>);</span><br><span class="line">surface1.Fill(Color.DarkBlue, Color.LightGray, <span class="number">0</span>);</span><br><span class="line">surface1.Print(<span class="number">1</span>, <span class="number">1</span>, <span class="string">"Hello!"</span>);</span><br><span class="line">surface1.Position = <span class="keyword">new</span> Point(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> surface2 = <span class="keyword">new</span> SadConsole.Surfaces.Basic(<span class="number">10</span>, <span class="number">4</span>);</span><br><span class="line">surface2.Fill(Color.LightGray, Color.DarkBlue, <span class="number">0</span>);</span><br><span class="line">surface2.Print(<span class="number">1</span>, <span class="number">1</span>, <span class="string">"Hello!"</span>);</span><br><span class="line">surface2.Position = <span class="keyword">new</span> Point(<span class="number">20</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">SadConsole.Global.CurrentScreen.Children.Add(surface1);</span><br><span class="line">SadConsole.Global.CurrentScreen.Children.Add(surface2);</span><br></pre></td></tr></table></figure>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	

	</div> <!-- col-md-9/col-md-12 -->
		
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 Thraka
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
